angular.module("dataform.directives",[]),angular.module("dataform",["dataform.directives"]),angular.module("dataform.directives").directive("dfTagAdd",[function(){return{restrict:"A",scope:{tags:"="},link:function(e,n){var t=angular.element("<input id=newTag placeholder=Tag>"),a=angular.element("<form>").append(t),i=angular.element("<button>+</button>");a.hide(),n.append(a,i),i.on("click",function(){a.show(),t.focus(),i.hide()}),t.on("blur",function(){delete e.value,a.hide(),i.show()}),a.on("submit",function(n){n.preventDefault(),e.tags=e.tags||[],e.$apply(function(){e.tags.push(t.val())})}),e.$watch("tags.length",function(e){0!==e&&e?a.hide():a.show()})}}}]),angular.module("dataform.directives").directive("dfTag",[function(){return{restrict:"EAC",link:function(e,n){var t=angular.element('<span class="df-tag-wrap">'),a=angular.element('<button class="remove"><i class="icon-remove"></i></button>');n.html(t.append(n.contents())),t.append(a),a.on("click",function(){e.$apply(function(){e.$parent.tags.splice(e.$index,1)})})}}}]);